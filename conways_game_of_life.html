<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Conway's Game of Life</title>
<!--Alec Slavik, added primative gameboard 10/23-->
<style>
  #board {
    display: grid;
    grid-template-columns: repeat(20, 20px);
    width: max-content;
    margin: 20px auto;
    border: 1px solid black;
  }
  .cell {
    width: 20px;
    height: 20px;
    border: 1px solid #ccc;
    background: white;
  }
  .alive {
    background: black;
  }
</style>
</head>
<body>

<h2 style="text-align:center;">Conway's Game of Life</h2>
<div id="board"></div>

<script>
  // Alec Slavik, simple gameboard that is static 20x20, with alive/dead cells 10/23
  const rows = 20;
  const cols = 20;
  const board = document.getElementById("board");

  // 2D array to store state: 0 = dead, 1 = alive
  let grid = Array.from({ length: rows }, () => Array(cols).fill(0));
  
  // Create board makes board and adds cells that can be alive/dead
  function createBoard() {
    for (let r = 0; r < rows; r++) {
      for (let c = 0; c < cols; c++) {
        const cell = document.createElement("div");
        cell.classList.add("cell");
        cell.dataset.row = r;
        cell.dataset.col = c;
        
        // click for alive/dead
        cell.addEventListener("click", () => toggleCell(r, c, cell));
        board.appendChild(cell);
      }
    }
  }
// Function to handle alive or dead
  function toggleCell(r, c, element) {
    grid[r][c] = grid[r][c] === 0 ? 1 : 0;
    element.classList.toggle("alive");
  }

  // Divit Kannnan, count alive neighbors
  function countNeighbors(r, c) {
    let count = 0;
    for (let dr = -1; dr <= 1; dr++) {
      for (let dc = -1; dc <= 1; dc++) {
        if (dr === 0 && dc === 0) continue;
        const nr = r + dr;
        const nc = c + dc;
        if (nr >= 0 && nr < rows && nc >= 0 && nc < cols) {
          count += grid[nr][nc];
        }
      }
    }
    return count;
  }

  // Divit Kannan, apply overpopulation rule o alive cell die if more than 3 neighbors
  function overpopulationRule(r, c) {
    if (grid[r][c] === 1) {
      const neighbors = countNeighbors(r, c);
      if (neighbors > 3) {
        return 0;
      }
    }
    return grid[r][c];
  }

  // Dylan O'Brien underpopulation rule. Live cell with less than 2 live neighbors dies
  function underpopulation(r, c){
    if (grid[r][c]==1){
      const neighbors = countNeighbors(r, c);
      if (neighbors<2){
        return 0;
      }
    }
    return grid[r][c];
  }

  createBoard();
</script>

</body>
</html>
